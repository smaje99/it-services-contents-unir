---
interface Props {
  value?: string; // opcional: valor que retorna dialog.returnValue
  class?: string;
  variant?: 'default' | 'secondary' | 'destructive';
  [key: string]: unknown; // props adicionales
}

const { value, class: className = '', variant = 'default', ...rest } = Astro.props;
---

<form method='dialog' class='dialog-action'>
  <button
    class:list={['dialog-action__button', `dialog-action__button--${variant}`, className]}
    value={value}
    {...rest}
  >
    <slot />
  </button>
</form>

<style>
  .dialog-action {
    margin: 0;
  }

  .dialog-action__button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.75rem;
    padding: 0.6rem 0.9rem;
    border: 1px solid var(--border-color);
    background: var(--card-bg);
    cursor: pointer;
  }

  .dialog-action__button--default {
    border-color: color-mix(in oklab, var(--primary) 45%, var(--border-color));
    background: color-mix(in oklab, var(--primary) 10%, var(--card-bg));
  }

  .dialog-action__button--secondary {
    background: var(--card-bg);
  }

  .dialog-action__button--destructive {
    border-color: color-mix(in oklab, var(--danger) 45%, var(--border-color));
    background: color-mix(in oklab, var(--danger) 10%, var(--card-bg));
  }

  .dialog-action__button:focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }
</style>
